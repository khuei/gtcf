<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
<fontconfig>
	<description> Load customization files </description>
	<dir>/usr/share/fonts</dir>
	<dir>/usr/local/share/fonts</dir>
	<dir prefix="xdg">fonts</dir>
	<dir>~/.fonts</dir>

	<include ignore_missing="yes">conf.d</include>
	<include ignore_missing="yes" prefix="xdg">fontconfig/conf.d</include>
	<include ignore_missing="yes" prefix="xdg">fontconfig/fonts.conf</include>

	<cachedir>/var/cache/fontconfig</cachedir>
	<cachedir prefix="xdg">fontconfig</cachedir>
	<cachedir>~/.fontconfig</cachedir>

	<match target="pattern">
		<test qual="any" name="family">
			<string>mono</string>
		</test>
		<edit name="family" mode="assign" binding="same">
			<string>monospace</string>
		</edit>
	</match>

	<match target="pattern">
		<test qual="any" name="family">
			<string>sans serif</string>
		</test>
		<edit name="family" mode="assign" binding="same">
			<string>sans-serif</string>
		</edit>
	</match>

	<match target="pattern">
		<test qual="any" name="family">
			<string>sans</string>
		</test>
		<edit name="family" mode="assign" binding="same">
			<string>sans-serif</string>
		</edit>
	</match>

	<description> Accept bitmap fonts </description>
	<selectfont>
		<acceptfont>
			<pattern>
				<patelt name="scalable"><bool>false</bool></patelt>
			</pattern>
		</acceptfont>
	</selectfont>

	<description> Font substitution rules </description>
	<alias binding="same">
		<family>Bepa Mono</family>
		<accept>
			<family>DejaVuSansMono Nerd Font Mono</family>
		</accept>
	</alias>
	<alias binding="same">
		<family>Bitstream Prima Sans Mono</family>
		<accept>
			<family>DejaVuSansMono Nerd Font Mono</family>
		</accept>
	</alias>
	<alias binding="same">
		<family>Bitstream Vera Sans Mono</family>
		<accept>
			<family>DejaVuSansMono Nerd Font Mono</family>
		</accept>
	</alias>
	<alias binding="same">
		<family>DejaVu LGC Sans Mono</family>
		<accept>
			<family>DejaVuSansMono Nerd Font Mono</family>
		</accept>
	</alias>
	<alias binding="same">
		<family>Olwen Sans Mono</family>
		<accept>
			<family>DejaVuSansMono Nerd Font Mono</family>
		</accept>
	</alias>
	<alias binding="same">
		<family>SUSE Sans Mono</family>
		<accept>
			<family>DejaVuSansMono Nerd Font Mono</family>
		</accept>
	</alias>

	<alias>
		<family>monospace</family>
		<prefer>
			<family>DejaVuSansMono Nerd Font Mono</family>
		</prefer>
	</alias>

	<config>
		<rescan>
			<int>30</int>
		</rescan>
	</config>

	<description> Bitmap Scaling </description>
	<match target="font">
		<test name="outline" compare="eq">
			<bool>false</bool>
		</test>
		<edit name="pixelsizefixupfactor" mode="assign">
			<divide>
				<name target="pattern">pixelsize</name>
				<name target="font"   >pixelsize</name>
			</divide>
		</edit>
	</match>
	<!--
		For non-scalable bitmap fonts (ie. non-color), skip
		minor scaling if hinting is enabled.
	-->
	<match target="font">
		<test name="outline" compare="eq">
			<bool>false</bool>
		</test>
		<test name="scalable" compare="eq">
			<bool>false</bool>
		</test>
		<test name="hinting" compare="eq">
			<bool>true</bool>
		</test>
		<edit name="scalingnotneeded" mode="assign">
			<and>
				<less>
					<name>pixelsizefixupfactor</name>
					<double>1.2</double>
				</less>
				<more>
					<name>pixelsizefixupfactor</name>
					<double>0.8</double>
				</more>
			</and>
		</edit>
	</match>
	<match target="font">
		<test name="scalingnotneeded" compare="eq">
			<bool>true</bool>
		</test>
		<edit name="pixelsizefixupfactor" mode="assign">
			<double>1.0</double>
		</edit>
	</match>
	<!--
		If we *are* going to scale, go ahead and do it.
	-->
	<match target="font">
		<test name="outline" compare="eq">
			<bool>false</bool>
		</test>
		<test name="pixelsizefixupfactor" compare="not_eq">
			<double>1.0</double>
		</test>
		<edit name="matrix" mode="assign">
			<times>
				<name>matrix</name>
				<matrix>
					<name>pixelsizefixupfactor</name> <double>0</double>
					<double>0</double> <name>pixelsizefixupfactor</name>
				</matrix>
			</times>
		</edit>
		<edit name="size" mode="assign">
			<divide>
				<name>size</name>
				<name>pixelsizefixupfactor</name>
			</divide>
		</edit>
	</match>

	<description> Anti-Aliasing </description>
	<match target="font">
		<edit name="antialias" mode="assign">
			<bool>true</bool>
		</edit>
	</match>

	<description> Hinting </description>
	<match target="font">
		<edit name="hinting" mode="assign">
			<bool>true</bool>
		</edit>
	</match>
	<match target="font">
		<edit name="autohint" mode="assign">
			<bool>true</bool>
		</edit>
	</match>
	<match target="font">
		<edit name="hintstyle" mode="assign">
			<const>hintslight</const>
		</edit>
	</match>

	<description> Pixel Alignment </description>
	<match target="pattern">
		<edit name="rgba" mode="append">
			<const>bgr</const>
		</edit>
	</match>
	<match target="pattern">
		<edit name="rgba" mode="append">
			<const>bgr</const>
		</edit>
	</match>
	<match target="pattern">
		<edit name="rgba" mode="append">
			<const>rgb</const>
		</edit>
	</match>
	<match target="pattern">
		<edit name="rgba" mode="append">
			<const>vbgr</const>
		</edit>
	</match>
	<match target="pattern">
		<edit name="rgba" mode="append">
			<const>vrgb</const>
		</edit>
	</match>

	<description> LCD Filter </description>
	<match target="font">
		<edit name="lcdfilter" mode="assign">
			<const>lcddefault</const>
		</edit>
	</match>
</fontconfig>
